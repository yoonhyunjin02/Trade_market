<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
	<meta charset="UTF-8">
	<title>Header</title>
	<link rel="stylesheet" th:href="@{/css/common/header.css}">
</head>
<body>
<div th:fragment="common-header">
	<header>
		<div class="header-wrapper">
			<div class="header-container">
				<!--* 로고 영역 /-->
				<h1 class="logo">
					<a th:href="@{/}">
						<img th:src="@{/images/logo/logo.svg}" alt="로고">
					</a>
				</h1>
				<!--* 메인 내비게이션 /-->
				<nav aria-label="메인 메뉴">
					<ul>
						<li><a th:href="@{/products}">중고거래</a></li>
						<li th:if="${session.user != null}">
							<a th:href="@{/location}">동네인증</a>
						</li>
					</ul>
				</nav>
			</div>

			<!--* 검색 + 사용자 관련 버튼 /-->
			<div class="header-actions" aria-label="사용자 메뉴">
				<!--* 상품 경로 제대로 정해지면 변경하기 /-->
				<form class="form-group" th:action="@{/products/search}" method="get"
				      role="search" aria-label="상품 검색">
					<input id="search" name="keyword" type="search" placeholder="물품이나 동네를 검색해보세요">
					<button type="submit" style="display: none"></button> <!--* 엔터 제출 보장용 /-->
				</form>
				<div sec:authorize="isAuthenticated()">
					<a th:href="@{/chat}" class="btn-main btn-chat">채팅하기</a>
					<form class="logout-form" th:action="@{/logout}" method="post" style="display:inline;">
						<button type="submit" class="btn-main btn-logout">로그아웃</button>
					</form>
				</div>
				<!--* 로그인 하지 않은 사용자에게만 '로그인' 버튼 표시/-->
				<div sec:authorize="isAnonymous()">
					<a th:href="@{/login}" class="btn-main btn-login">로그인</a>
				</div>
			</div>
		</div>
	</header>
</div>
</body>
</html>