<article th:if="${product != null}" th:fragment="productCard(product)">
    <a th:href="@{'/products/' + ${product.id}}" class="item-link">
        <div class="item">

            <!-- 이미지가 없거나 비었거나 첫 이미지가 null일 때 -->
            <img th:if="${product.images == null or product.images.size() == 0 or product.images[0].image == null}"
                 src="/images/mascot.png"
                 alt="기본 이미지" />

            <!-- 첫 이미지가 존재할 때만 -->
            <img th:if="${product.images != null and product.images.size() > 0 and product.images[0].image != null}"
                 th:src="${product.images[0].image}"
                 alt="상품 이미지" />

            <div class="item-info">
                <p class="title" th:text="${product.title}">제목</p>
                <p class="price"
                   th:text="${#numbers.formatInteger(product.price, 3, 'COMMA') + '원'}">가격</p>
                <p class="location" th:text="${product.location}">위치</p>
                <p class="meta">
                    조회 <span th:text="${product.viewCount}">0</span>
                    · 채팅 <span th:text="${product.chatCount}">0</span>
                </p>
            </div>
        </div>
    </a>
</article>