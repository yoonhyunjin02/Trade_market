<article th:if="${product != null}" th:fragment="productCard(product)">
    <a th:href="@{'/products/' + ${product.id}}" class="item-link">
        <div class="item">

            <!-- ê¸°ë³¸ ì´ë¯¸ì§€: ì´ë¯¸ì§€ê°€ ì—†ê±°ë‚˜ ë¹„ì—ˆê±°ë‚˜ ì²« ì´ë¯¸ì§€ê°€ nullì¼ ë•Œ -->
            <img th:if="${product.images == null or product.images.size() == 0 or product.images[0].image == null}"
                 src="/images/mascot.png"
                 alt="ê¸°ë³¸ ì´ë¯¸ì§€" />

            <!-- ì‹¤ì œ ì´ë¯¸ì§€: ì²« ì´ë¯¸ì§€ê°€ ì¡´ìž¬í•  ë•Œë§Œ -->
            <img th:if="${product.images != null and product.images.size() > 0 and product.images[0].image != null}"
                 th:src="@{${product.images[0].image}}"
                 alt="ìƒí’ˆ ì´ë¯¸ì§€" />

            <div class="item-info">
                <p class="title" th:text="${product.title}">ì œëª©</p>
                <p class="price"
                   th:text="${#numbers.formatInteger(product.price, 3, 'COMMA') + 'ì›'}">ê°€ê²©</p>
                <p class="location" th:text="${product.location}">ìœ„ì¹˜</p>
                <p class="meta">
                    ì¡°íšŒ <span th:text="${product.viewCount}">0</span>
                    Â· ì±„íŒ… <span th:text="${product.chatCount}">0</span>
                </p>
            </div>
        </div>
    </a>
</article>

<!-- ðŸ”½ ì•ˆì „í•˜ê²Œ ì—¬ëŸ¬ ì¹´ë“œ ë Œë”ë§ -->
<div th:fragment="productCardList">
    <div th:each="product : ${products}">
        <div th:replace="~{fragments/product-card :: productCard(${product})}"></div>
    </div>
</div>